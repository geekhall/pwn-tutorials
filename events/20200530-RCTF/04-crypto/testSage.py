from sage.all import *


f=open("arg.txt","r")

lines = f.readlines()
m=int(lines[0])

a = matrix(Zmod(m), 0, 513)
b = matrix(Zmod(m), 0, 1)

for i in range(1,len(lines)):
    line = lines[i]
    args = line.split(',')
    argList = []
    for j in range(len(args)-1):
        argList.append(int(args[j]))
    a = a.stack(vector(argList))
    b = b.stack(vector([int(args[-1])]))
f.close()
# a = a.stack(vector([1, 575754713921075917966281619138805311732651821212486920712815418600514882501395017216888413953399238581038958132723931454469155093763803639737747444946770375704912290113706413218523293247129409876743918737836268370881811342810007726]))
# a = a.stack(vector([1,802308665085144989884647450873473888861636254612367960600673705172693152510226252021983331818414979107682185627587540126955071429248404557050057533374374593835102658608331540026051640723395769182139061935330932765211710922270435267]))
# b=b.stack(vector([969722093072040727031791958123052368196278195828947167478556896148108866901481369741552796807894162111169391839458184252674050380712581027256067624349808072285626489992993986830193974225180076121719450290365874242069772979772399515]))
# b=b.stack(vector([550159360827318162263383869413595710229965283429596589317977494702272678078745663711529363010072844545265752293458755457426982547657915843700108724154264496503051999948090798507140959575259705119325691692048521258529073463301620253]))
# print(m)
# print(a)
# print(b)
x=a.solve_right(b)

print(x[0][0])

